(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{4919:function(e,t,n){Promise.resolve().then(n.bind(n,3166))},2501:function(e,t,n){"use strict";var a=n(7437);t.Z=function(e){let{src:t,alt:n,className:i,width:s,height:o}=e;return(0,a.jsx)("img",{src:t,alt:n,className:i,width:s,height:o})}},3166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(7437),i=n(2265),s=JSON.parse('[{"name":"Horn of Bicorn","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Horn of Bicorn.png"},{"name":"Unicorn hair","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Unicorn hair.png"},{"name":"Dragon liver","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Dragon liver.png"},{"name":"Ashwinder egg","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Ashwinder egg.png"},{"name":"Murtlap Essence","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Murtlap Essence.png"},{"name":"Dittany","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Dittany.png"},{"name":"Valerian root","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Valerian root.png"},{"name":"Nettle","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Nettle.png"},{"name":"Gillyweed","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Gillyweed.png"},{"name":"Moonstone","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Moonstone.png"},{"name":"Asphodel","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Asphodel.png"},{"name":"Wormwood","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Wormwood.png"},{"name":"Leech","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Leech.png"},{"name":"Fluxweed","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Fluxweed.png"},{"name":"Boomslang skin","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Boomslang skin.png"},{"name":"Squill bulb","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Squill bulb.png"},{"name":"Occamy","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Occamy.png"},{"name":"Clabbert","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Clabbert.png"},{"name":"Flobberworm Mucus","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Flobberworm Mucus.png"},{"name":"Beetle","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Beetle.png"},{"name":"Comfrey","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Comfrey.png"},{"name":"Mandrake","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Mandrake.png"},{"name":"Rose Petal","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Rose Petal.png"},{"name":"Sal Ammoniac","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Sal Ammoniac.png"},{"name":"Unicorn horn","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Unicorn horn.webp"},{"name":"Pufferfish eyes","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Pufferfish eyes.webp"}]'),o=JSON.parse('[{"name":"Polyjuice Potion","ingredients":["Horn of Bicorn","Leech","Fluxweed","Boomslang skin"],"effect":"Allows the drinker to assume the form of someone else"},{"name":"Felix Felicis","ingredients":["Squill bulb","Ashwinder egg","Occamy","Murtlap Essence"],"effect":"Brings good luck to the drinker"},{"name":"Veritaserum","ingredients":["Ashwinder egg","Unicorn hair","Dittany","Clabbert"],"effect":"Forces the drinker to tell the truth"},{"name":"Skele-Gro","ingredients":["Horn of Bicorn","Mandrake","Murtlap Essence"],"effect":"Regrows bones"},{"name":"Draught of Living Death","ingredients":["Asphodel","Wormwood","Valerian root"],"effect":"Puts the drinker into a deep sleep"},{"name":"Wiggenweld Potion","ingredients":["Asphodel","Murtlap Essence","Dragon liver"],"effect":"Replenishes a person\'s stamina"},{"name":"Cure for Boils","ingredients":["Flobberworm Mucus","Dittany","Nettle"],"effect":"Cures boils"},{"name":"Gillyweed Potion","ingredients":["Gillyweed","Murtlap Essence","Beetle"],"effect":"Allows the drinker to breathe underwater"},{"name":"Essence of Comfrey","ingredients":["Comfrey","Dragon liver","Nettle"],"effect":"Heals wounds"},{"name":"Mandrake Restorative Draught","ingredients":["Mandrake","Valerian root","Wormwood"],"effect":"Restores those who have been petrified"},{"name":"Beautiflcation Potion","ingredients":["Rose Petal","Moonstone","Unicorn hair"],"effect":"Makes the drinker beautiful"},{"name":"Panacea","ingredients":["Sal Ammoniac","Unicorn horn","Dittany"],"effect":"Cures all ailments"},{"name":"Swelling Solution","ingredients":["Pufferfish eyes","Dittany","Nettle"],"effect":"Causes the drinker to swell"}]');n(3413);var l=e=>{let{children:t,onClick:n,className:i}=e;return(0,a.jsx)("button",{className:i,onClick:n,children:t})},r=n(2501),m=()=>{let e=(0,i.useRef)(null),[t,n]=(0,i.useState)([]),[m,c]=(0,i.useState)(null),[g,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[f,u]=(0,i.useState)(!1),[x,k]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),[y,_]=(0,i.useState)(null),[j,v]=(0,i.useState)(!1),[N,U]=(0,i.useState)([]),[C,S]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("http://3.34.19.176:8080/api/potions/1"),t=(await e.json()).reduce((e,t)=>(e[t.potion_name]=(e[t.potion_name]||0)+1,e),{}),n=Object.entries(t).map(e=>{let[t,n]=e;return{name:t,imageUrl:"https://syeongkim.github.io/madcamp_week4_front/images/".concat(t,".webp"),stock:Number(n)}});U(n),S(!1)}catch(e){console.error("Error fetching potions:",e),S(!1)}})()},[]);let P=[{top:"10%",left:"10%"},{top:"10%",left:"27%"},{top:"10%",left:"45%"},{top:"10%",left:"62%"},{top:"10%",left:"80%"},{top:"50%",left:"10%"},{top:"50%",left:"27%"},{top:"50%",left:"45%"},{top:"50%",left:"62%"},{top:"50%",left:"80%"},{top:"90%",left:"10%"},{top:"90%",left:"27%"},{top:"90%",left:"45%"},{top:"90%",left:"62%"},{top:"90%",left:"80%"}],A=e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},M=async()=>{let e=o.find(e=>e.ingredients.every(e=>t.includes(e)));if(e){c("".concat(e.name," is created \n ").concat(e.effect));try{let t=await fetch("http://3.34.19.176:8080/api/potions/1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({potionName:e.name})}),n=await t.json();console.log("Potion added:",n),U(t=>t.find(t=>t.name===e.name)?t.map(t=>t.name===e.name?{...t,stock:t.stock+1}:t):[...t,{name:e.name,imageUrl:"https://syeongkim.github.io/madcamp_week4_front/images/".concat(e.name,".webp"),stock:1}])}catch(e){console.error("Error adding potion:",e)}}else c("Wrong combination, try again!")},E=e=>{w(e),p(!0),k(!1),setTimeout(()=>{p(!1),w(null)},5e3)},L=e=>{let t=o.find(t=>t.name===e),n=N.find(t=>t.name===e);t&&n&&(_({name:t.name,effect:t.effect,stock:n.stock}),u(!0))};return(0,a.jsxs)("div",{className:"min-h-screen bg-makepotions-background bg-cover bg-center flex relative",children:[(0,a.jsx)("audio",{src:"https://syeongkim.github.io/madcamp_week4_front/musics/02_Harry's_Wondrous_World.mp3",autoPlay:!0,loop:!0}),(0,a.jsx)("div",{className:"ingredients-container overflow-y-auto",ref:e,onMouseDown:t=>{let n=e.current;if(!n)return;n.classList.add("scrolling");let a=t.pageX-n.offsetLeft,i=n.scrollLeft,s=e=>{let t=e.pageX-n.offsetLeft;n.scrollLeft=i-(t-a)*2},o=()=>{n.classList.remove("scrolling"),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",o)},children:s.map((e,n)=>(0,a.jsxs)("div",{className:"p-1 rounded-lg shadow-lg cursor-pointer relative mb-2 flex flex-col items-center justify-center ".concat(t.includes(e.name)?"selected-ingredient":""),onClick:()=>A(e.name),children:[(0,a.jsxs)("div",{className:"w-20 h-20 relative overflow-hidden rounded-md flex items-center justify-center",children:[(0,a.jsx)(r.Z,{src:e.imageUrl,alt:e.name,className:"absolute inset-0 w-full h-full object-cover object-center"}),t.includes(e.name)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"absolute inset-0 bg-black opacity-50 flex items-center justify-center",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),(0,a.jsx)("h2",{className:"text-xxs font-bold text-white font-Animales text-center mt-2",children:e.name})]},n))}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"submit-button-container",children:(0,a.jsx)("button",{className:"submit-button mt-2 px-4 py-2 text-white rounded-lg font-Harry",onClick:M,children:"Submit"})}),m&&(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-black font-Animales",children:m}),(0,a.jsx)("button",{className:"mt-2 px-4 py-2 text-white rounded-lg font-Animales",onClick:()=>{n([]),c(null)},children:"Try Again"})]})]}),(0,a.jsxs)("div",{className:"fixed top-0 right-0 p-4 flex flex-col",children:[(0,a.jsx)("button",{className:"potion-black-market-button",onClick:()=>d(!0)}),(0,a.jsx)("text",{className:"mt-3 font-Animales text-xs text-white text-center",children:"secret hint"})]}),(0,a.jsx)("div",{className:"fixed top-32 right-0 p-4 flex flex-col",children:(0,a.jsxs)("button",{onClick:()=>v(!0),children:[(0,a.jsx)(r.Z,{src:"https://syeongkim.github.io/madcamp_week4_front/images/potion_case.jpg",alt:"potion",className:"w-20 h-20 object-cover object-center"}),(0,a.jsx)("p",{className:"font-Animales text-white text-xs mt-3",children:"Our Potions"})]})}),g&&(0,a.jsx)("div",{className:"modal font-Harry text-white text-center",onClick:()=>d(!1),children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-4xl",children:"Select the potion for which you want to check the ingredients"}),(0,a.jsx)("h4",{className:"text-2xl",children:"You must pay 10 points to get hint"}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"relative inline-block text-left",children:[(0,a.jsx)("button",{className:"inline-flex justify-center w-full px-4 py-2 text-white rounded-lg text-xl",onClick:()=>k(!x),children:"Show Potions List"}),x&&(0,a.jsx)("div",{className:"origin-top-right no-scrollbar absolute left-1/2 transform -translate-x-1/2 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto",children:(0,a.jsx)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:o.map((e,t)=>(0,a.jsx)(l,{onClick:()=>E(e),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:e.name},t))})})]})})]})}),h&&b&&(0,a.jsx)("div",{className:"new-modal font-Harry text-white text-center",onClick:()=>p(!1),children:(0,a.jsxs)("div",{className:"new-modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("span",{onClick:()=>p(!1),className:"new-modal-close text-black",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-black text-6xl mb-4",children:b.name}),(0,a.jsx)("p",{className:"text-black text-4xl",children:b.ingredients.join(", ")})]})}),j&&(0,a.jsx)("div",{className:"potion-case-modal fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center",onClick:()=>v(!1),children:(0,a.jsx)("div",{className:"p-8 rounded-lg max-w-5xl w-full h-full relative flex items-center justify-center",onClick:e=>e.stopPropagation(),style:{backgroundImage:"url(https://syeongkim.github.io/madcamp_week4_front/images/potion_case_background.jpg)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,a.jsxs)("div",{className:"potion-case-content w-full h-full relative",children:[!C&&N.map((e,t)=>(0,a.jsxs)("div",{className:"absolute flex flex-col items-center justify-center w-24 h-24",style:{top:"".concat(P[t].top),left:"".concat(P[t].left),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},onClick:()=>L(e.name),children:[(0,a.jsx)(r.Z,{src:e.imageUrl,alt:e.name,className:"w-24 h-24 object-cover mb-2 mt-2"}),(0,a.jsx)("p",{className:"text-white text-xs font-Animales text-center",children:e.name})]},t)),(0,a.jsx)("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 text-black text-2xl font-bold",children:"\xd7"})]})})}),f&&y&&(0,a.jsx)("div",{className:"detail-modal font-Harry text-white text-center",onClick:()=>u(!1),children:(0,a.jsxs)("div",{className:"detail-modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("span",{onClick:()=>u(!1),className:"detail-modal-close text-black",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-black text-6xl mb-4",children:y.name}),(0,a.jsx)("p",{className:"text-black text-4xl mb-2",children:y.effect}),(0,a.jsxs)("p",{className:"text-black text-2xl",children:["Stock: ",y.stock]})]})})]})}},3413:function(){}},function(e){e.O(0,[638,971,23,744],function(){return e(e.s=4919)}),_N_E=e.O()}]);