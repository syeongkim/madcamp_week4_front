(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{4919:function(e,t,n){Promise.resolve().then(n.bind(n,3166))},2501:function(e,t,n){"use strict";var a=n(7437);t.Z=function(e){let{src:t,alt:n,className:o,width:i,height:s}=e;return(0,a.jsx)("img",{src:t,alt:n,className:o,width:i,height:s})}},3166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(7437),o=n(2265),i=JSON.parse('[{"name":"Horn of Bicorn","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Horn of Bicorn.png"},{"name":"Unicorn hair","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Unicorn hair.png"},{"name":"Dragon liver","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Dragon liver.png"},{"name":"Ashwinder egg","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Ashwinder egg.png"},{"name":"Murtlap Essence","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Murtlap Essence.png"},{"name":"Dittany","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Dittany.png"},{"name":"Valerian root","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Valerian root.png"},{"name":"Nettle","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Nettle.png"},{"name":"Gillyweed","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Gillyweed.png"},{"name":"Moonstone","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Moonstone.png"},{"name":"Asphodel","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Asphodel.png"},{"name":"Wormwood","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Wormwood.png"},{"name":"Leech","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Leech.png"},{"name":"Fluxweed","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Fluxweed.png"},{"name":"Boomslang skin","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Boomslang skin.png"},{"name":"Squill bulb","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Squill bulb.png"},{"name":"Occamy","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Occamy.png"},{"name":"Clabbert","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Clabbert.png"},{"name":"Flobberworm Mucus","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Flobberworm Mucus.png"},{"name":"Beetle","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Beetle.png"},{"name":"Comfrey","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Comfrey.png"},{"name":"Mandrake","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Mandrake.png"},{"name":"Rose Petal","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Rose Petal.png"},{"name":"Sal Ammoniac","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Sal Ammoniac.png"},{"name":"Unicorn horn","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Unicorn horn.webp"},{"name":"Pufferfish eyes","imageUrl":"https://syeongkim.github.io/madcamp_week4_front/images/Pufferfish eyes.webp"}]'),s=JSON.parse('[{"name":"Polyjuice Potion","ingredients":["Horn of Bicorn","Leech","Fluxweed","Boomslang skin"],"effect":"Allows the drinker to assume the form of someone else","target":"other","score":"*0.5"},{"name":"Felix Felicis","ingredients":["Squill bulb","Ashwinder egg","Occamy","Murtlap Essence"],"effect":"Brings good luck to the drinker","target":"self","score":"+50"},{"name":"Veritaserum","ingredients":["Ashwinder egg","Unicorn hair","Dittany","Clabbert"],"effect":"Forces the drinker to tell the truth","target":"other","score":"*0.5"},{"name":"Skele-Gro","ingredients":["Horn of Bicorn","Mandrake","Murtlap Essence"],"effect":"Regrows bones","target":"self","score":"+30"},{"name":"Draught of Living Death","ingredients":["Asphodel","Wormwood","Valerian root"],"effect":"Puts the drinker into a deep sleep","target":"self","score":"*0"},{"name":"Wiggenweld Potion","ingredients":["Asphodel","Murtlap Essence","Dragon liver"],"effect":"Replenishes a person\'s stamina","target":"self","score":"+20"},{"name":"Cure for Boils","ingredients":["Flobberworm Mucus","Dittany","Nettle"],"effect":"Cures boils","target":"self","score":"+20"},{"name":"Gillyweed Potion","ingredients":["Gillyweed","Murtlap Essence","Beetle"],"effect":"Allows the drinker to breathe underwater","target":"self","score":"+30"},{"name":"Essence of Comfrey","ingredients":["Comfrey","Dragon liver","Nettle"],"effect":"Heals wounds","target":"self","score":"+50"},{"name":"Mandrake Restorative Draught","ingredients":["Mandrake","Valerian root","Wormwood"],"effect":"Restores those who have been petrified","target":"self","score":"+50"},{"name":"Beautiflcation Potion","ingredients":["Rose Petal","Moonstone","Unicorn hair"],"effect":"Makes the drinker beautiful","target":"self","score":"*2"},{"name":"Panacea","ingredients":["Sal Ammoniac","Unicorn horn","Dittany"],"effect":"Cures all ailments","target":"self","score":"+100"},{"name":"Swelling Solution","ingredients":["Pufferfish eyes","Dittany","Nettle"],"effect":"Causes the drinker to swell","target":"other","score":"-70"}]');n(3413);var r=e=>{let{children:t,onClick:n,className:o}=e;return(0,a.jsx)("button",{className:o,onClick:n,children:t})},l=n(2501),c=n(9428),m=n(6800),d=n.n(m),g=()=>{let e=(0,o.useRef)(null),[t,n]=(0,o.useState)([]),[m,g]=(0,o.useState)(null),[f,p]=(0,o.useState)(!1),[u,h]=(0,o.useState)(!1),[x,k]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1),[y,v]=(0,o.useState)(null),[j,_]=(0,o.useState)(null),[N,S]=(0,o.useState)(!1),[C,U]=(0,o.useState)([]),[P,A]=(0,o.useState)(!0),[M,E]=(0,o.useState)(""),[L,D]=(0,o.useState)(!1),[B,R]=(0,o.useState)(null),F={Gryffindor:"hover:text-red-700",Hufflepuff:"hover:text-yellow-700",Ravenclaw:"hover:text-blue-800",Slytherin:"hover:text-green-700"},H=[{top:"10%",left:"10%"},{top:"10%",left:"27%"},{top:"10%",left:"45%"},{top:"10%",left:"62%"},{top:"10%",left:"80%"},{top:"50%",left:"10%"},{top:"50%",left:"27%"},{top:"50%",left:"45%"},{top:"50%",left:"62%"},{top:"50%",left:"80%"},{top:"90%",left:"10%"},{top:"90%",left:"27%"},{top:"90%",left:"45%"},{top:"90%",left:"62%"},{top:"90%",left:"80%"}],O=e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},I=async()=>{let e=s.find(e=>e.ingredients.every(e=>t.includes(e)));if(e){R(e),g("".concat(e.name," is created \n ").concat(e.effect));let t=localStorage.getItem("dormId");try{let n=await fetch("https://hogwart.paulupa.com/api/potions/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({potionName:e.name})}),a=await n.json();console.log("Potion added:",a),U(t=>t.find(t=>t.name===e.name)?t.map(t=>t.name===e.name?{...t,stock:t.stock+1}:t):[...t,{name:e.name,imageUrl:"https://syeongkim.github.io/madcamp_week4_front/images/".concat(e.name,".webp"),stock:1}])}catch(e){console.error("Error adding potion:",e)}}else g("Wrong combination, try again!")},G=e=>{var t;k(!1);let a=null!==(t=localStorage.getItem("dormId"))&&void 0!==t?t:"",o=s.find(t=>t.name===e);try{o&&"other"===o.target?(console.log("here"),D(!0)):o&&o.score.includes("*")?(0,c.Y)(a,parseFloat(o.score.replace("*","")),"multiply"):o&&(0,c.Y)(a,parseInt(o.score.replace("+","")),"add"),n([]),g(null)}catch(e){console.error("Error updating points:",e)}},W=async e=>{let t={Gryffindor:1,Hufflepuff:2,Ravenclaw:3,Slytherin:4}[e];try{if(j){let e=s.find(e=>e.name===j.name);e&&e.score.includes("*")?(0,c.Y)(t.toString(),parseFloat(e.score.replace("*","")),"multiply"):e&&(0,c.Y)(t.toString(),parseInt(e.score.replace("+","")),"add"),D(!1)}}catch(e){console.error("Error applying effect to dorm:",e)}},Y=async e=>{let t=localStorage.getItem("dormId");t&&(console.log("minus credit"),await (0,c.Y)(t,-10,"add")),v(e),h(!0),w(!1),setTimeout(()=>{h(!1),v(null)},5e3)},T=e=>{let t=s.find(t=>t.name===e),n=C.find(t=>t.name===e);t&&n&&(_({name:t.name,effect:t.effect,stock:n.stock}),k(!0))};return(0,a.jsxs)("div",{className:"min-h-screen bg-makepotions-background bg-cover bg-center flex relative",children:[(0,a.jsx)("audio",{src:"https://syeongkim.github.io/madcamp_week4_front/musics/02_Harry's_Wondrous_World.mp3",autoPlay:!0,loop:!0}),(0,a.jsx)("div",{className:"ingredients-container overflow-y-auto",ref:e,onMouseDown:t=>{let n=e.current;if(!n)return;n.classList.add("scrolling");let a=t.pageX-n.offsetLeft,o=n.scrollLeft,i=e=>{let t=e.pageX-n.offsetLeft;n.scrollLeft=o-(t-a)*2},s=()=>{n.classList.remove("scrolling"),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)},children:i.map((e,n)=>(0,a.jsxs)("div",{className:"p-1 rounded-lg shadow-lg cursor-pointer relative mb-2 flex flex-col items-center justify-center ".concat(t.includes(e.name)?"selected-ingredient":""),onClick:()=>O(e.name),children:[(0,a.jsxs)("div",{className:"w-20 h-20 relative overflow-hidden rounded-md flex items-center justify-center",children:[(0,a.jsx)(l.Z,{src:e.imageUrl,alt:e.name,className:"absolute inset-0 w-full h-full object-cover object-center"}),t.includes(e.name)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"absolute inset-0 bg-black opacity-50 flex items-center justify-center",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),(0,a.jsx)("h2",{className:"text-xxs font-bold text-white font-Animales text-center mt-2",children:e.name})]},n))}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"submit-button-container",children:(0,a.jsx)("button",{className:"submit-button mt-2 px-4 py-2 text-white rounded-lg font-Harry",onClick:I,children:"Submit"})}),m&&(0,a.jsxs)("div",{className:"result-modal text-center mt-4 flex flex-col items-center justify-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white font-Animales mb-4",children:m}),m&&(0,a.jsx)("button",{className:"mt-2 px-4 py-2 text-white rounded-lg font-Animales block",onClick:()=>{n([]),g(null)},children:"Try Again"})]})]}),(0,a.jsxs)("div",{className:"fixed top-0 right-0 p-4 flex flex-col",children:[(0,a.jsx)("button",{className:"potion-black-market-button",onClick:()=>p(!0)}),(0,a.jsx)("text",{className:"mt-3 font-Animales text-xs text-white text-center",children:"secret hint"})]}),(0,a.jsx)("div",{className:"fixed top-32 right-0 p-4 flex flex-col",children:(0,a.jsxs)("button",{onClick:()=>S(!0),children:[(0,a.jsx)(l.Z,{src:"https://syeongkim.github.io/madcamp_week4_front/images/potion_case.jpg",alt:"potion",className:"w-20 h-20 object-cover object-center"}),(0,a.jsx)("p",{className:"font-Animales text-white text-xs mt-3",children:"Our Potions"})]})}),f&&(0,a.jsx)("div",{className:"modal font-Harry text-white text-center",onClick:()=>p(!1),children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-4xl",children:"Select the potion for which you want to check the ingredients"}),(0,a.jsx)("h4",{className:"text-2xl",children:"You must pay 10 points to get hint"}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"relative inline-block text-left",children:[(0,a.jsx)("button",{className:"inline-flex justify-center w-full px-4 py-2 text-white rounded-lg text-xl",onClick:()=>w(!b),children:"Show Potions List"}),b&&(0,a.jsx)("div",{className:"origin-top-right no-scrollbar absolute left-1/2 transform -translate-x-1/2 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto",children:(0,a.jsx)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:s.map((e,t)=>(0,a.jsx)(r,{onClick:()=>Y(e),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:e.name},t))})})]})})]})}),u&&y&&(0,a.jsx)("div",{className:"new-modal font-Harry text-white text-center",onClick:()=>h(!1),children:(0,a.jsxs)("div",{className:"new-modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("span",{onClick:()=>h(!1),className:"new-modal-close text-black",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-black text-6xl mb-4",children:y.name}),(0,a.jsx)("p",{className:"text-black text-4xl",children:y.ingredients.join(", ")})]})}),N&&(0,a.jsx)("div",{className:"potion-case-modal fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center",onClick:()=>S(!1),children:(0,a.jsx)("div",{className:"p-8 rounded-lg max-w-5xl w-full h-full relative flex items-center justify-center",onClick:e=>e.stopPropagation(),style:{backgroundImage:"url(https://syeongkim.github.io/madcamp_week4_front/images/potion_case_background.jpg)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,a.jsxs)("div",{className:"potion-case-content w-full h-full relative",children:[!P&&C.map((e,t)=>(0,a.jsxs)("div",{className:"absolute flex flex-col items-center justify-center w-24 h-24",style:{top:"".concat(H[t].top),left:"".concat(H[t].left),display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},onClick:()=>T(e.name),children:[(0,a.jsx)(l.Z,{src:e.imageUrl,alt:e.name,className:"w-24 h-24 object-cover mb-2 mt-2"}),(0,a.jsx)("p",{className:"text-white text-xs font-Animales text-center",children:e.name})]},t)),(0,a.jsx)("button",{onClick:()=>S(!1),className:"absolute top-2 right-2 text-black text-2xl font-bold",children:"\xd7"})]})})}),x&&j&&(0,a.jsx)("div",{className:"detail-modal font-Harry text-white text-center",onClick:()=>k(!1),children:(0,a.jsxs)("div",{className:"detail-modal-content",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("span",{onClick:()=>k(!1),className:"detail-modal-close text-black",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-black text-6xl mb-4",children:j.name}),(0,a.jsx)("p",{className:"text-black text-4xl mb-2",children:j.effect}),(0,a.jsxs)("p",{className:"text-black text-2xl",children:["Stock: ",j.stock]}),(0,a.jsx)("button",{className:"text-black",onClick:()=>G(j.name),children:"Apply Effect"})]})}),L&&(0,a.jsx)("div",{className:"new-modal fixed inset-0 flex items-center justify-center z-50 bg-opacity-50",children:(0,a.jsxs)("div",{className:"text-white p-6 rounded-lg shadow-lg text-center font-Animales",children:[(0,a.jsx)("h3",{className:"text-2xl mb-4",children:"Select a dorm to apply the effect"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Gryffindor","Hufflepuff","Ravenclaw","Slytherin"].map(e=>(0,a.jsx)("button",{onClick:()=>W(e),className:d()("text-white font-bold py-2 px-4 rounded transition duration-200 transform hover:scale-105",F[e]),children:e},e))})]})})]})}},9428:function(e,t,n){"use strict";async function a(e,t,n){if(!(await fetch("https://hogwart.paulupa.com/api/dorms/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dormScore:t,operation:n})})).ok)throw Error("Failed to update points")}n.d(t,{Y:function(){return a}})},3413:function(){},6800:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=i(t,n));return t}(n)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0!==(n=(function(){return o}).apply(t,[]))&&(e.exports=n)}()}},function(e){e.O(0,[638,971,23,744],function(){return e(e.s=4919)}),_N_E=e.O()}]);