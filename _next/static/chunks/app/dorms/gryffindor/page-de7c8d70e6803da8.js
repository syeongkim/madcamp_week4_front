(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{6325:function(e,t,n){Promise.resolve().then(n.bind(n,5034))},7291:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(7437),r=n(2265),i=n(8842),a=n(3149),o=n(7776);let c=e=>{let{texturePath:t}=e,n=(0,r.useRef)(null),a=(0,i.F)(o.TextureLoader,t),[c,l]=(0,r.useState)(1);return(0,r.useEffect)(()=>{let e=new Image;e.src=t,e.onload=()=>{l(e.width/e.height)};let s=new o.PlaneGeometry(30*c,30,60,40),r=new o.MeshLambertMaterial({map:a,side:o.DoubleSide,alphaTest:.5,transparent:!0});n.current&&(n.current.geometry=s,n.current.material=r)},[a,t,c]),(0,i.C)(()=>{let e=.001*Date.now();if(n.current&&n.current.geometry){let t=n.current.geometry.attributes.position,s=t.array;for(let t=0;t<=40;t++)for(let n=0;n<=60;n++)s[3*(n+61*t)+2]=.5*Math.sin(.5*n+e);t.needsUpdate=!0}}),(0,s.jsx)("mesh",{ref:n})};function l(e){let{texturePath:t}=e;return(0,s.jsx)("div",{className:"items-center justify-center text-center relative h-[700px]",children:(0,s.jsxs)(a.Xz,{style:{width:"auto",height:"100%"},camera:{position:[0,0,30],fov:60},children:[(0,s.jsx)("ambientLight",{}),(0,s.jsx)("pointLight",{position:[10,10,10]}),(0,s.jsx)(c,{texturePath:t})]})})}},5034:function(e,t,n){"use strict";n.r(t);var s=n(7437),r=n(2265),i=n(7138),a=n(4839),o=n(7291),c=n(9428);n(3054),n(267),t.default=()=>{let[e,t]=(0,r.useState)({points:0,students:[]});return(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,c.E)(1);t(e)}catch(e){console.error("Failed to fetch dorm details:",e)}})()},[]),(0,s.jsxs)("div",{className:"h-screen bg-white relative",children:[(0,s.jsx)(i.default,{href:"/games/potion",children:(0,s.jsx)("div",{className:"h-1/3 w-full bg-potion-background bg-center bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)(i.default,{href:"/games/magic",children:(0,s.jsx)("div",{className:"h-1/3 w-full -mt-1/3 bg-magic-background bg-bottom bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)(i.default,{href:"/games/quidditch",children:(0,s.jsx)("div",{className:"h-1/3 w-full -mt-1/3 bg-quidditch-background bg-center bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)("div",{className:"scrolling-names-container absolute top-0 left-0 w-full z-20",children:(0,s.jsx)("div",{className:"scrolling-names",children:e.students.concat(e.students).map((e,t)=>(0,s.jsx)("span",{children:e},t))})}),(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center z-30 pointer-events-none",children:[(0,s.jsx)(o.Z,{texturePath:"https://syeongkim.github.io/madcamp_week4_front/images/gryffindor_banner.png"}),(0,s.jsx)("h1",{className:(0,a.Z)("text-4xl mt-8 dormtype","text-shadow-gryffindor"),children:"Gryffindor"}),(0,s.jsx)("div",{className:"dorm-detail my-6 text-center",children:(0,s.jsxs)("div",{className:"text-center mb-4",children:["Points: ",e.points]})})]})]})}},9428:function(e,t,n){"use strict";async function s(e){let t=await fetch("https://hogwart.paulupa.com/api/dorms/".concat(e));if(!t.ok)throw Error("Failed to fetch dorm details");let n=await t.json();return{points:n.dorm_score||0,students:n.students||[]}}async function r(e,t,n){if(!(await fetch("https://hogwart.paulupa.com/api/dorms/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dormScore:t,operation:n})})).ok)throw Error("Failed to update points")}n.d(t,{E:function(){return s},Y:function(){return r}})},267:function(){},3054:function(){}},function(e){e.O(0,[141,818,689,138,351,971,23,744],function(){return e(e.s=6325)}),_N_E=e.O()}]);