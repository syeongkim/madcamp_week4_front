(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{2339:function(e,t,n){Promise.resolve().then(n.bind(n,9505))},9505:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var s=n(7437),a=n(2265),r=n(7138),i=n(4839),o=n(8842),l=n(3149),c=n(7776);let u=e=>{let{texturePath:t}=e,n=(0,a.useRef)(null),r=(0,o.F)(c.TextureLoader,t),[i,l]=(0,a.useState)(1);return(0,a.useEffect)(()=>{let e=new Image;e.src=t,e.onload=()=>{l(e.width/e.height)};let s=new c.PlaneGeometry(30*i,30,60,40),a=new c.MeshLambertMaterial({map:r,side:c.DoubleSide,alphaTest:.5,transparent:!0});n.current&&(n.current.geometry=s,n.current.material=a)},[r,t,i]),(0,o.C)(()=>{let e=.001*Date.now();if(n.current&&n.current.geometry){let t=n.current.geometry.attributes.position,s=t.array;for(let t=0;t<=40;t++)for(let n=0;n<=60;n++)s[3*(n+61*t)+2]=.5*Math.sin(.5*n+e);t.needsUpdate=!0}}),(0,s.jsx)("mesh",{ref:n})};function d(e){let{texturePath:t}=e;return(0,s.jsx)("div",{className:"items-center justify-center text-center relative h-[700px]",children:(0,s.jsxs)(l.Xz,{style:{width:"auto",height:"100%"},camera:{position:[0,0,30],fov:60},children:[(0,s.jsx)("ambientLight",{}),(0,s.jsx)("pointLight",{position:[10,10,10]}),(0,s.jsx)(u,{texturePath:t})]})})}var h=n(9428);n(3054),n(267);let f={gryffindor:"https://syeongkim.github.io/madcamp_week4_front/images/gryffindor_banner.png",hufflepuff:"https://syeongkim.github.io/madcamp_week4_front/images/hufflepuff_banner.png",ravenclaw:"https://syeongkim.github.io/madcamp_week4_front/images/ravenclaw_banner.png",slytherin:"https://syeongkim.github.io/madcamp_week4_front/images/slytherin_banner.png"};function m(e){let{dorm:t}=e,[n,o]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("dormId");e&&o(await (0,h.E)(e))})()},[]),!n)return(0,s.jsx)("div",{children:"Loading..."});let l=t.toUpperCase(),c="text-shadow-".concat(t.toLowerCase()),u=f[t.toLowerCase()];return(0,s.jsxs)("div",{className:"h-screen bg-white relative",children:[(0,s.jsx)(r.default,{href:"/games/potion",children:(0,s.jsx)("div",{className:"h-1/3 w-full bg-potion-background bg-center bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)(r.default,{href:"/games/magic",children:(0,s.jsx)("div",{className:"h-1/3 w-full -mt-1/3 bg-magic-background bg-bottom bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)(r.default,{href:"/games/quidditch",children:(0,s.jsx)("div",{className:"h-1/3 w-full -mt-1/3 bg-quidditch-background bg-center bg-cover z-10",style:{position:"relative",pointerEvents:"auto"}})}),(0,s.jsx)("div",{className:"scrolling-names-container absolute top-0 left-0 w-full z-20",children:(0,s.jsx)("div",{className:"scrolling-names",children:n.students.concat(n.students).map((e,t)=>(0,s.jsx)("span",{children:e},t))})}),(0,s.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center z-30 pointer-events-none",children:[(0,s.jsx)(d,{texturePath:u}),(0,s.jsx)("h1",{className:(0,i.Z)("text-4xl mt-8 dormtype",c),children:l}),(0,s.jsx)("div",{className:"dorm-detail my-6 text-center",children:(0,s.jsxs)("div",{className:"text-center mb-4",children:["Points: ",n.points]})})]})]})}},9428:function(e,t,n){"use strict";async function s(e){console.log("fetchDormDetails",e);let t=await fetch("https://hogwart.paulupa.com/api/dorms/".concat(e),{headers:{"Content-Type":"application/json"}});if(console.log("https://hogwart.paulupa.com/api/dorms/".concat(e)),!t.ok)throw Error("Failed to fetch dorm details");let n=await t.json();return{points:n.dorm_score||0,students:n.students||[]}}async function a(e,t,n){if(!(await fetch("https://hogwart.paulupa.com/api/dorms/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({dormScore:t,operation:n})})).ok)throw Error("Failed to update points")}n.d(t,{E:function(){return s},Y:function(){return a}})},267:function(){},3054:function(){}},function(e){e.O(0,[141,818,689,138,351,971,23,744],function(){return e(e.s=2339)}),_N_E=e.O()}]);